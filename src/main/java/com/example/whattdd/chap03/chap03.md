### 챕터 3 테스트 코드 작성 순서

#  비용 지불 구독 서비스

## 구현하기 쉬운 테스트부터 시작하기

예 : 
- 모든 조건을 충족하는 경우
- 모든 조건을 충족하지 않는 경우

## 예외 상황을 먼저 테스트하기 

- 예외상황을 전혀 고려하지 않은 코드에 예외 상황을 반영하려면 코드의
구조를 뒤집거나 코드 중간에 예외 상활을 처리하기위해 조건문을 중복해서
추가하는 일이 벌어짐 <br>
-> 코드를 복잡하게 만들어 버그 발생가능성을 높인다.

## 완급조절
1. 정해진 값을 리턴
2. 값 비교를 이용해 정해진 값 리턴
3. 다양한 테스트를 추가하면서 구현을 일반화 

- 위 단계를 거치면서 연습할것, 조금만 구현이 떠오르지 않아도 진전을
이루지 못하고 막혀 있거나 한번에 많은 코드를 구현하려고 시도하다 구현에
실패하게 된다. 

예 : 상수를 이용해 테스트 통과시키고 구현을 일반화 

## 지속적인 리팩토링

- 무조건 리팩토링을 해야하는것은 아니지만 적당한 후보가 보이면 래팩토링을
진행한다. 
- 코드 중복은 리팩토링 대상, 코드가 길어지면 메서드 추출과 같은 기법 사용
<br>
-> 코드의 가독성을 높아진다 . 가독성이 높아지면 개발자는 더욱 빠르게 코드를 분석할 수 있어
수정 요청이 있을때 변경할 코드를 빠르게 찾을 수 있다. 

- 코드가 복잡해지거나 구현을 더는 진행못하고 막히게되면 멈추고 메서드 추출리팩토링을 되돌린다.
리팩토링을 취소해서 코드를 원상 복구한 후 다음 테스트를 진행하고 코드의 의미나 구조가 더 명확해지면 그때 다시 리팩토링을 시도한다.

## 새로운 테스트 사례 

- 새로운 테스트 사례를 발견하면 그 사례를 목록에 추가해서 놓치지 않아야한다.
개발을 진행하다 보면 생각치도 못한 테스트 사례를 발견하기 마련이다. 
- 테스트 목록을 적었다고 한번에 다 작성하면 안된다. 한번에 작성한 테스트 코드가 많으면
구현 초기에도 리팩토링을 마음껏 못한다. 수정할 코드가 많아지게되면 리팩토링에대한 심리적 저항이 생기기 마련이다.
- 지속적인 TDD 리듬은 반복적이고 범위가 작으며 개발 주기도 짧아 개발 집중력도 높아진다.
- 변경 범위가 매우 큰 리팩토링 거리를 발견하면 시간이 오래걸려 TDD의 흐름을 깨기 쉬우므로 진행하지말고 테스트를 통과시키는 데 집중한다.
대신 다음 할 일 목록에 추가해서 놓지지말고 진행해야한다. 

## 범위가 큰 리팩토링 진행하기 전 반드시 커밋
- 실패했을 시 다시 동작하는 마지막 상태로 쉽게 돌아올 수 있다. 

## 시작이 안될때는 단언부터 고민
- 테스트 코드를 작성하다 보면 시작이 잘 안될때가 있다. 이럴 때는 검증하는 코드부터 작성하기 시작하면 도움이 된다.
<br>
예: 만료일 계산기능의 경우 만료일을 검증하는 코드부터 작성 
- 구현이 막히거나 무언가 잘못한거 같은 느낌이 들면 과감하게 코드를 지우고 미련없이 다시 시작한다. 
어떤 순서로 테스트 코드를 작성했는지 돌이켜보고 순서를 바꿔서 다시 진행한다. 다시 진행할 때에는 다음을 상기한다.
<br>
-> 쉬운테스트, 예외적인 테스트 , 완급 조절